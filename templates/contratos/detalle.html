{% extends 'base/base.html' %}
{% load static %}

{% block title %}Detalle Contrato - FotoStudio{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/contratos.css' %}">
{% endblock %}

{% block page_title %}Detalle del Contrato{% endblock %}

{% block content %}
<div class="detalle-contrato-container">
    <div class="header-actions">
        <h2>Contrato: {{ contrato.numero_contrato }}</h2>
        <a href="{% url 'contratos:listar' %}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Volver a Contratos
        </a>
    </div>
    
    <div class="contrato-info">
        <div class="card">
            <div class="card-header">
                <h3>Información del Contrato</h3>
            </div>
            <div class="card-body">
                <div class="info-grid">
                    <div class="info-item">
                        <label>Número:</label>
                        <span>{{ contrato.numero_contrato }}</span>
                    </div>
                    <div class="info-item">
                        <label>Cliente:</label>
                        <span>
                            {% if contrato.cliente.tipo == 'PARTICULAR' %}
                                {{ contrato.cliente.nombres }} {{ contrato.cliente.apellidos }}
                            {% else %}
                                {{ contrato.cliente.razon_social }}
                            {% endif %}
                        </span>
                    </div>
                    <div class="info-item">
                        <label>Tipo:</label>
                        <span>{{ contrato.get_tipo_display }}</span>
                    </div>
                    <div class="info-item">
                        <label>Estado:</label>
                        <span class="badge badge-{{ contrato.estado|lower }}">
                            {{ contrato.get_estado_display }}
                        </span>
                    </div>
                    <div class="info-item">
                        <label>Fecha Inicio:</label>
                        <span>{{ contrato.fecha_inicio|date:"d/m/Y" }}</span>
                    </div>
                    <div class="info-item">
                        <label>Monto Total:</label>
                        <span>S/ {{ contrato.monto_total|floatformat:2 }}</span>
                    </div>
                </div>
                
                {% if contrato.observaciones %}
                <div class="observaciones">
                    <h4>Observaciones:</h4>
                    <p>{{ contrato.observaciones }}</p>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
